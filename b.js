/*! For license information please see b.js.LICENSE.txt */
(()=>{var t={178:(t,e,r)=>{var n,i;n={915:function(t,e,r){var n;t.exports=(n=r(83),function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=63)}([function(t,e){var r=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=r)},function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e,r){var n=r(42)("wks"),i=r(43),o=r(1).Symbol,s="function"==typeof o;(t.exports=function(t){return n[t]||(n[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=n},function(t,e,r){var n=r(13);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e,r){var n=r(1),i=r(0),o=r(12),s=r(7),c=r(18),u=function(t,e,r){var a,h,l,f=t&u.F,p=t&u.G,d=t&u.S,_=t&u.P,v=t&u.B,b=t&u.W,y=p?i:i[e]||(i[e]={}),m=y.prototype,w=p?n:d?n[e]:(n[e]||{}).prototype;for(a in p&&(r=e),r)(h=!f&&w&&void 0!==w[a])&&c(y,a)||(l=h?w[a]:r[a],y[a]=p&&"function"!=typeof w[a]?r[a]:v&&h?o(l,n):b&&w[a]==l?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(l):_&&"function"==typeof l?o(Function.call,l):l,_&&((y.virtual||(y.virtual={}))[a]=l,t&u.R&&m&&!m[a]&&s(m,a,l)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,r){t.exports=!r(24)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports={}},function(t,e,r){var n=r(8),i=r(26);t.exports=r(5)?function(t,e,r){return n.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e,r){var n=r(3),i=r(70),o=r(71),s=Object.defineProperty;e.f=r(5)?Object.defineProperty:function(t,e,r){if(n(t),e=o(e,!0),n(r),i)try{return s(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},function(t,e,r){"use strict";(function(t){var r="undefined"!=typeof window&&window,n="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,i=r||void 0!==t&&t||n;e.root=i,function(){if(!i)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(e,r(112))},function(t,e,r){"use strict";function n(t){return t instanceof a||"syncErrorThrowable"in t&&t[u.rxSubscriber]}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(58),s=r(11),c=r(60),u=r(36),a=function(t){function e(e,r,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=c.empty;break;case 1:if(!e){this.destination=c.empty;break}if("object"==typeof e){if(n(e)){var o=e[u.rxSubscriber]();this.syncErrorThrowable=o.syncErrorThrowable,this.destination=o,o.add(this)}else this.syncErrorThrowable=!0,this.destination=new h(this,e);break}default:this.syncErrorThrowable=!0,this.destination=new h(this,e,r,i)}}return i(e,t),e.prototype[u.rxSubscriber]=function(){return this},e.create=function(t,r,n){var i=new e(t,r,n);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(s.Subscription);e.Subscriber=a;var h=function(t){function e(e,r,n,i){t.call(this),this._parentSubscriber=e;var s,u=this;o.isFunction(r)?s=r:r&&(s=r.next,n=r.error,i=r.complete,r!==c.empty&&(u=Object.create(r),o.isFunction(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=n,this._complete=i}return i(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,r){try{e.call(this._context,r)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(a)},function(t,e,r){"use strict";function n(t){return t.reduce((function(t,e){return t.concat(e instanceof a.UnsubscriptionError?e.errors:e)}),[])}var i=r(114),o=r(115),s=r(58),c=r(59),u=r(35),a=r(116),h=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var r=this,h=r._parent,l=r._parents,f=r._unsubscribe,p=r._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var d=-1,_=l?l.length:0;h;)h.remove(this),h=++d<_&&l[d]||null;if(s.isFunction(f)&&c.tryCatch(f).call(this)===u.errorObject&&(e=!0,t=t||(u.errorObject.e instanceof a.UnsubscriptionError?n(u.errorObject.e.errors):[u.errorObject.e])),i.isArray(p))for(d=-1,_=p.length;++d<_;){var v=p[d];if(o.isObject(v)&&c.tryCatch(v.unsubscribe).call(v)===u.errorObject){e=!0,t=t||[];var b=u.errorObject.e;b instanceof a.UnsubscriptionError?t=t.concat(n(b.errors)):t.push(b)}}if(e)throw new a.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var r=e;switch(typeof e){case"function":r=new t(e);case"object":if(r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if("function"!=typeof r._addParent){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(r),r._addParent(this),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.prototype._addParent=function(t){var e=this._parent,r=this._parents;e&&e!==t?r?-1===r.indexOf(t)&&r.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();e.Subscription=h},function(t,e,r){var n=r(17);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,r){"use strict";var n=r(9),i=r(113),o=r(117),s=r(118),c=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,o=i.toSubscriber(t,e,r);if(n?n.call(o,this.source):o.add(this.source||!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var r=this;if(e||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?e=n.root.Rx.config.Promise:n.root.Promise&&(e=n.root.Promise)),!e)throw new Error("no Promise impl found");return new e((function(e,n){var i;i=r.subscribe((function(e){if(i)try{t(e)}catch(t){n(t),i.unsubscribe()}else t(e)}),n,e)}))},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[o.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 0===t.length?this:s.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;if(t||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?t=n.root.Rx.config.Promise:n.root.Promise&&(t=n.root.Promise)),!t)throw new Error("no Promise impl found");return new t((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();e.Observable=c},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e,r){"use strict";var n=r(80)(!0);r(40)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})}))},function(t,e,r){r(67);for(var n=r(1),i=r(7),o=r(6),s=r(2)("toStringTag"),c="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<c.length;u++){var a=c[u],h=n[a],l=h&&h.prototype;l&&!l[s]&&i(l,s,a),o[a]=o.Array}},function(t,e,r){var n=r(39),i=r(22);t.exports=function(t){return n(i(t))}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=!0},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,r){var n=r(13),i=r(1).document,o=n(i)&&n(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,r){var n=r(28),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},function(t,e,r){var n=r(42)("keys"),i=r(43);t.exports=function(t){return n[t]||(n[t]=i(t))}},function(t,e,r){var n=r(8).f,i=r(18),o=r(2)("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},function(t,e,r){var n=r(22);t.exports=function(t){return Object(n(t))}},function(t,e,r){var n=r(16),i=r(2)("toStringTag"),o="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,r,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?r:o?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,r){var n=r(32),i=r(2)("iterator"),o=r(6);t.exports=r(0).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[n(t)]}},function(t,e,r){"use strict";function n(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=i(e),this.reject=i(r)}var i=r(17);t.exports.f=function(t){return new n(t)}},function(t,e,r){"use strict";e.errorObject={e:{}}},function(t,e,r){"use strict";var n=r(9).root.Symbol;e.rxSubscriber="function"==typeof n&&"function"==typeof n.for?n.for("rxSubscriber"):"@@rxSubscriber",e.$$rxSubscriber=e.rxSubscriber},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(38)),o=n(r(14));e.default=function t(e){(0,o.default)(this,t);var r=(0,i.default)(e,10);return{UpdateId:r[0],NumberOfAccounts:r[1],UpdateDateTime:r[2],ActionType:r[3],LastTradePrice:r[4],NumberOfOrders:r[5],Price:r[6],ProductPairCode:r[7],Quantity:r[8],Side:r[9]}},t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(r(65)),o=n(r(82));e.default=function(t,e){if(Array.isArray(t))return t;if((0,i.default)(Object(t)))return function(t,e){var r=[],n=!0,i=!1,s=void 0;try{for(var c,u=(0,o.default)(t);!(n=(c=u.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){i=!0,s=t}finally{try{!n&&u.return&&u.return()}finally{if(i)throw s}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,r){var n=r(16);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e,r){"use strict";var n=r(23),i=r(4),o=r(72),s=r(7),c=r(6),u=r(73),a=r(30),h=r(79),l=r(2)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,r,d,_,v,b){u(r,e,d);var y,m,w,g=function(t){if(!f&&t in E)return E[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},x=e+" Iterator",S="values"==_,O=!1,E=t.prototype,k=E[l]||E["@@iterator"]||_&&E[_],P=k||g(_),T=_?S?g("entries"):P:void 0,j="Array"==e&&E.entries||k;if(j&&(w=h(j.call(new t)))!==Object.prototype&&w.next&&(a(w,x,!0),n||"function"==typeof w[l]||s(w,l,p)),S&&k&&"values"!==k.name&&(O=!0,P=function(){return k.call(this)}),n&&!b||!f&&!O&&E[l]||s(E,l,P),c[e]=P,c[x]=p,_)if(y={values:S?P:g("values"),keys:v?P:g("keys"),entries:T},b)for(m in y)m in E||o(E,m,y[m]);else i(i.P+i.F*(f||O),e,y);return y}},function(t,e,r){var n=r(76),i=r(44);t.exports=Object.keys||function(t){return n(t,i)}},function(t,e,r){var n=r(0),i=r(1),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:r(23)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+n).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,r){var n=r(1).document;t.exports=n&&n.documentElement},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(38)),o=n(r(14));e.default=function t(e){(0,o.default)(this,t);var r=(0,i.default)(e,9);return{TradeId:r[0],InstrumentId:r[1],Quantity:r[2],Price:r[3],Order1Id:r[4],Order2Id:r[5],Timestamp:r[6],Direction:r[7],TakerSide:r[8]}},t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(48)),o=n(r(14));e.default=function t(e){(0,o.default)(this,t),(0,i.default)(this,e)},t.exports=e.default},function(t,e,r){t.exports={default:r(85),__esModule:!0}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(48)),o=n(r(14));e.default=function t(e){(0,o.default)(this,t),(0,i.default)(this,e)},t.exports=e.default},function(t,e,r){var n=r(3);t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&n(o.call(t)),e}}},function(t,e,r){var n=r(6),i=r(2)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||o[i]===t)}},function(t,e,r){var n=r(3),i=r(17),o=r(2)("species");t.exports=function(t,e){var r,s=n(t).constructor;return void 0===s||null==(r=n(s)[o])?e:i(r)}},function(t,e,r){var n,i,o,s=r(12),c=r(97),u=r(45),a=r(25),h=r(1),l=h.process,f=h.setImmediate,p=h.clearImmediate,d=h.MessageChannel,_=h.Dispatch,v=0,b={},y=function(){var t=+this;if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},m=function(t){y.call(t.data)};f&&p||(f=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return b[++v]=function(){c("function"==typeof t?t:Function(t),e)},n(v),v},p=function(t){delete b[t]},"process"==r(16)(l)?n=function(t){l.nextTick(s(y,t,1))}:_&&_.now?n=function(t){_.now(s(y,t,1))}:d?(o=(i=new d).port2,i.port1.onmessage=m,n=s(o.postMessage,o,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(n=function(t){h.postMessage(t+"","*")},h.addEventListener("message",m,!1)):n="onreadystatechange"in a("script")?function(t){u.appendChild(a("script")).onreadystatechange=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(s(y,t,1),0)}),t.exports={set:f,clear:p}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,r){var n=r(3),i=r(13),o=r(34);t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=o.f(t);return(0,r.resolve)(e),r.promise}},function(t,e,r){var n=r(2)("iterator"),i=!1;try{var o=[7][n]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var o=[7],s=o[n]();s.next=function(){return{done:r=!0}},o[n]=function(){return s},t(o)}catch(t){}return r}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(15),o=r(10),s=r(11),c=r(61),u=r(62),a=r(36),h=function(t){function e(e){t.call(this,e),this.destination=e}return n(e,t),e}(o.Subscriber);e.SubjectSubscriber=h;var l=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return n(e,t),e.prototype[a.rxSubscriber]=function(){return new h(this)},e.prototype.lift=function(t){var e=new f(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new c.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(t.complete(),s.Subscription.EMPTY):(this.observers.push(t),new u.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new i.Observable;return t.source=this,t},e.create=function(t,e){return new f(t,e)},e}(i.Observable);e.Subject=l;var f=function(t){function e(e,r){t.call(this),this.destination=e,this.source=r}return n(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.Subscription.EMPTY},e}(l);e.AnonymousSubject=f},function(t,e,r){"use strict";e.isFunction=function(t){return"function"==typeof t}},function(t,e,r){"use strict";function n(){try{return i.apply(this,arguments)}catch(t){return o.errorObject.e=t,o.errorObject}}var i,o=r(35);e.tryCatch=function(t){return i=t,n}},function(t,e,r){"use strict";e.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return n(e,t),e}(Error);e.ObjectUnsubscribedError=i},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(e,r){t.call(this),this.subject=e,this.subscriber=r,this.closed=!1}return n(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(r(11).Subscription);e.SubjectSubscription=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.APEX=e.Order=e.Trade=e.Level2=e.Level1=void 0;var n=r(64);Object.defineProperty(e,"Level1",{enumerable:!0,get:function(){return n.Level1}}),Object.defineProperty(e,"Level2",{enumerable:!0,get:function(){return n.Level2}}),Object.defineProperty(e,"Trade",{enumerable:!0,get:function(){return n.Trade}}),Object.defineProperty(e,"Order",{enumerable:!0,get:function(){return n.Order}});var i=r(90);e.default=i.APEX,e.APEX=i.APEX},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(37);Object.defineProperty(e,"Level2",{enumerable:!0,get:function(){return n.Level2}});var i=r(46);Object.defineProperty(e,"Trade",{enumerable:!0,get:function(){return i.Trade}});var o=r(47);Object.defineProperty(e,"Order",{enumerable:!0,get:function(){return o.Order}});var s=r(49);Object.defineProperty(e,"Level1",{enumerable:!0,get:function(){return s.Level1}})},function(t,e,r){t.exports={default:r(66),__esModule:!0}},function(t,e,r){r(20),r(19),t.exports=r(81)},function(t,e,r){"use strict";var n=r(68),i=r(69),o=r(6),s=r(21);t.exports=r(40)(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])}),"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,r){t.exports=!r(5)&&!r(24)((function(){return 7!=Object.defineProperty(r(25)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,r){var n=r(13);t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,r){t.exports=r(7)},function(t,e,r){"use strict";var n=r(74),i=r(26),o=r(30),s={};r(7)(s,r(2)("iterator"),(function(){return this})),t.exports=function(t,e,r){t.prototype=n(s,{next:i(1,r)}),o(t,e+" Iterator")}},function(t,e,r){var n=r(3),i=r(75),o=r(44),s=r(29)("IE_PROTO"),c=function(){},u=function(){var t,e=r(25)("iframe"),n=o.length;for(e.style.display="none",r(45).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;n--;)delete u.prototype[o[n]];return u()};t.exports=Object.create||function(t,e){var r;return null!==t?(c.prototype=n(t),r=new c,c.prototype=null,r[s]=t):r=u(),void 0===e?r:i(r,e)}},function(t,e,r){var n=r(8),i=r(3),o=r(41);t.exports=r(5)?Object.defineProperties:function(t,e){i(t);for(var r,s=o(e),c=s.length,u=0;c>u;)n.f(t,r=s[u++],e[r]);return t}},function(t,e,r){var n=r(18),i=r(21),o=r(77)(!1),s=r(29)("IE_PROTO");t.exports=function(t,e){var r,c=i(t),u=0,a=[];for(r in c)r!=s&&n(c,r)&&a.push(r);for(;e.length>u;)n(c,r=e[u++])&&(~o(a,r)||a.push(r));return a}},function(t,e,r){var n=r(21),i=r(27),o=r(78);t.exports=function(t){return function(e,r,s){var c,u=n(e),a=i(u.length),h=o(s,a);if(t&&r!=r){for(;a>h;)if((c=u[h++])!=c)return!0}else for(;a>h;h++)if((t||h in u)&&u[h]===r)return t||h||0;return!t&&-1}}},function(t,e,r){var n=r(28),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=n(t))<0?i(t+e,0):o(t,e)}},function(t,e,r){var n=r(18),i=r(31),o=r(29)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,r){var n=r(28),i=r(22);t.exports=function(t){return function(e,r){var o,s,c=String(i(e)),u=n(r),a=c.length;return u<0||u>=a?t?"":void 0:(o=c.charCodeAt(u))<55296||o>56319||u+1===a||(s=c.charCodeAt(u+1))<56320||s>57343?t?c.charAt(u):o:t?c.slice(u,u+2):s-56320+(o-55296<<10)+65536}}},function(t,e,r){var n=r(32),i=r(2)("iterator"),o=r(6);t.exports=r(0).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||o.hasOwnProperty(n(e))}},function(t,e,r){t.exports={default:r(83),__esModule:!0}},function(t,e,r){r(20),r(19),t.exports=r(84)},function(t,e,r){var n=r(3),i=r(33);t.exports=r(0).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},function(t,e,r){r(86),t.exports=r(0).Object.assign},function(t,e,r){var n=r(4);n(n.S+n.F,"Object",{assign:r(87)})},function(t,e,r){"use strict";var n=r(5),i=r(41),o=r(88),s=r(89),c=r(31),u=r(39),a=Object.assign;t.exports=!a||r(24)((function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach((function(t){e[t]=t})),7!=a({},t)[r]||Object.keys(a({},e)).join("")!=n}))?function(t,e){for(var r=c(t),a=arguments.length,h=1,l=o.f,f=s.f;a>h;)for(var p,d=u(arguments[h++]),_=l?i(d).concat(l(d)):i(d),v=_.length,b=0;v>b;)p=_[b++],n&&!f.call(d,p)||(r[p]=d[p]);return r}:a},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.APEX=void 0;var i=n(r(91)),o=n(r(104)),s=n(r(14)),c=n(r(106)),u=r(110),a=r(131),h=n(r(49)),l=n(r(37)),f=n(r(46)),p=n(r(47));r(137),r(140);var d=r(143),_=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wss://api_apexqa.alphapoint.com/WSGateway/",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{onopen:function(){},onclose:function(){},onerror:function(){},defaultCallback:function(){},debug:!1};(0,s.default)(this,t);var i=n.onopen,o=n.onclose,c=n.onerror,a=n.defaultCallback,_=n.debug;this.seq=0,this.callbacks={},this.defaultCallback=a,this.debug=_,this.ws=(0,u.webSocket)({url:r,WebSocketCtor:d,openObserver:{next:i||function(){}},errorObserver:{next:c||function(){}},closeObserver:{next:o||function(){}}}),this.ws.subscribe((function(t){e.callbacks[t.i]&&(e.callbacks[t.i](t),delete e.callbacks[t.i])})),this.Level1=this.ws.filter((function(t){return"Level1UpdateEvent"===t.n})).map((function(t){var e=t.o;return new h.default(JSON.parse(e))})),this.Level2=this.ws.filter((function(t){return"Level2UpdateEvent"===t.n})).map((function(t){var e=t.o;return new l.default(JSON.parse(e))})),this.Trades=this.ws.filter((function(t){return"TradeDataUpdateEvent"===t.n})).map((function(t){var e=t.o;return new f.default(JSON.parse(e))})),this.Ticker=this.ws.filter((function(t){return"TickerDataUpdateEvent"===t.n})).map((function(t){var e=t.o;return JSON.parse(e)})),this.OrderEvents=this.ws.filter((function(t){return["OrderStateEvent"].includes(t.n)})).map((function(t){var e=t.o;return new p.default(JSON.parse(e))})),this.AccountEvents=this.ws.filter((function(t){return["AccountPositionEvent","CancelAllOrdersRejectEvent","CancelOrderRejectEvent","CancelReplaceOrderRejectEvent","MarketStateUpdate","NewOrderRejectEvent","OrderStateEvent","OrderTradeEvent","OrderTradeEvent","PendingDepositUpdate","TransactionEvent"].includes(t.n)})).map((function(t){var e=t.o;return JSON.parse(e)}))}return(0,c.default)(t,[{key:"RPCCall",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultCallback,n={m:0,i:this.seq,n:t,o:(0,o.default)(e)};this.debug&&console.log("DBG-⬆︎: "+(0,o.default)(n)),this.callbacks[this.seq]=r,this.seq+=2,this.ws.next((0,o.default)(n))}},{key:"RPCPromise",value:function(t,e){var r=this,n=this.debug;return new i.default((function(i,s){r.RPCCall(t,e,(function(t){5===t.m?(n&&console.log("DBG-⬇︎: "+(0,o.default)(t)),s(t)):i(t)}))}))}},{key:"closeConnection",value:function(){this.ws.socket.close()}}]),t}();a.endpoints.forEach((function(t){_.prototype[t]=function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{OMSId:1};return new i.default((function(n,i){var s=e.debug;e.RPCCall(t,r,(function(t){if(5===t.m)s&&console.log("DBG-⬇︎: "+(0,o.default)(t)),i(t);else try{var e=JSON.parse(t.o);n(e)}catch(e){n(t.o?t.o:t)}}))}))}})),e.APEX=_},function(t,e,r){t.exports={default:r(92),__esModule:!0}},function(t,e,r){r(93),r(19),r(20),r(94),r(102),r(103),t.exports=r(0).Promise},function(t,e){},function(t,e,r){"use strict";var n,i,o,s,c=r(23),u=r(1),a=r(12),h=r(32),l=r(4),f=r(13),p=r(17),d=r(95),_=r(96),v=r(52),b=r(53).set,y=r(98)(),m=r(34),w=r(54),g=r(99),x=r(55),S=u.TypeError,O=u.process,E=O&&O.versions,k=E&&E.v8||"",P=u.Promise,T="process"==h(O),j=function(){},A=i=m.f,C=!!function(){try{var t=P.resolve(1),e=(t.constructor={})[r(2)("species")]=function(t){t(j,j)};return(T||"function"==typeof PromiseRejectionEvent)&&t.then(j)instanceof e&&0!==k.indexOf("6.6")&&-1===g.indexOf("Chrome/66")}catch(t){}}(),N=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},L=function(t,e){if(!t._n){t._n=!0;var r=t._c;y((function(){for(var n=t._v,i=1==t._s,o=0;r.length>o;)!function(e){var r,o,s,c=i?e.ok:e.fail,u=e.resolve,a=e.reject,h=e.domain;try{c?(i||(2==t._h&&B(t),t._h=1),!0===c?r=n:(h&&h.enter(),r=c(n),h&&(h.exit(),s=!0)),r===e.promise?a(S("Promise-chain cycle")):(o=N(r))?o.call(r,u,a):u(r)):a(n)}catch(t){h&&!s&&h.exit(),a(t)}}(r[o++]);t._c=[],t._n=!1,e&&!t._h&&M(t)}))}},M=function(t){b.call(u,(function(){var e,r,n,i=t._v,o=I(t);if(o&&(e=w((function(){T?O.emit("unhandledRejection",i,t):(r=u.onunhandledrejection)?r({promise:t,reason:i}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",i)})),t._h=T||I(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},I=function(t){return 1!==t._h&&0===(t._a||t._c).length},B=function(t){b.call(u,(function(){var e;T?O.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})}))},U=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),L(e,!0))},R=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw S("Promise can't be resolved itself");(e=N(t))?y((function(){var n={_w:r,_d:!1};try{e.call(t,a(R,n,1),a(U,n,1))}catch(t){U.call(n,t)}})):(r._v=t,r._s=1,L(r,!1))}catch(t){U.call({_w:r,_d:!1},t)}}};C||(P=function(t){d(this,P,"Promise","_h"),p(t),n.call(this);try{t(a(R,this,1),a(U,this,1))}catch(t){U.call(this,t)}},(n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(100)(P.prototype,{then:function(t,e){var r=A(v(this,P));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=T?O.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&L(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new n;this.promise=t,this.resolve=a(R,t,1),this.reject=a(U,t,1)},m.f=A=function(t){return t===P||t===s?new o(t):i(t)}),l(l.G+l.W+l.F*!C,{Promise:P}),r(30)(P,"Promise"),r(101)("Promise"),s=r(0).Promise,l(l.S+l.F*!C,"Promise",{reject:function(t){var e=A(this);return(0,e.reject)(t),e.promise}}),l(l.S+l.F*(c||!C),"Promise",{resolve:function(t){return x(c&&this===s?P:this,t)}}),l(l.S+l.F*!(C&&r(56)((function(t){P.all(t).catch(j)}))),"Promise",{all:function(t){var e=this,r=A(e),n=r.resolve,i=r.reject,o=w((function(){var r=[],o=0,s=1;_(t,!1,(function(t){var c=o++,u=!1;r.push(void 0),s++,e.resolve(t).then((function(t){u||(u=!0,r[c]=t,--s||n(r))}),i)})),--s||n(r)}));return o.e&&i(o.v),r.promise},race:function(t){var e=this,r=A(e),n=r.reject,i=w((function(){_(t,!1,(function(t){e.resolve(t).then(r.resolve,n)}))}));return i.e&&n(i.v),r.promise}})},function(t,e){t.exports=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,e,r){var n=r(12),i=r(50),o=r(51),s=r(3),c=r(27),u=r(33),a={},h={};e=t.exports=function(t,e,r,l,f){var p,d,_,v,b=f?function(){return t}:u(t),y=n(r,l,e?2:1),m=0;if("function"!=typeof b)throw TypeError(t+" is not iterable!");if(o(b)){for(p=c(t.length);p>m;m++)if((v=e?y(s(d=t[m])[0],d[1]):y(t[m]))===a||v===h)return v}else for(_=b.call(t);!(d=_.next()).done;)if((v=i(_,y,d.value,e))===a||v===h)return v},e.BREAK=a,e.RETURN=h},function(t,e){t.exports=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},function(t,e,r){var n=r(1),i=r(53).set,o=n.MutationObserver||n.WebKitMutationObserver,s=n.process,c=n.Promise,u="process"==r(16)(s);t.exports=function(){var t,e,r,a=function(){var n,i;for(u&&(n=s.domain)&&n.exit();t;){i=t.fn,t=t.next;try{i()}catch(n){throw t?r():e=void 0,n}}e=void 0,n&&n.enter()};if(u)r=function(){s.nextTick(a)};else if(!o||n.navigator&&n.navigator.standalone)if(c&&c.resolve){var h=c.resolve(void 0);r=function(){h.then(a)}}else r=function(){i.call(n,a)};else{var l=!0,f=document.createTextNode("");new o(a).observe(f,{characterData:!0}),r=function(){f.data=l=!l}}return function(n){var i={fn:n,next:void 0};e&&(e.next=i),t||(t=i,r()),e=i}}},function(t,e,r){var n=r(1).navigator;t.exports=n&&n.userAgent||""},function(t,e,r){var n=r(7);t.exports=function(t,e,r){for(var i in e)r&&t[i]?t[i]=e[i]:n(t,i,e[i]);return t}},function(t,e,r){"use strict";var n=r(1),i=r(0),o=r(8),s=r(5),c=r(2)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:n[t];s&&e&&!e[c]&&o.f(e,c,{configurable:!0,get:function(){return this}})}},function(t,e,r){"use strict";var n=r(4),i=r(0),o=r(1),s=r(52),c=r(55);n(n.P+n.R,"Promise",{finally:function(t){var e=s(this,i.Promise||o.Promise),r="function"==typeof t;return this.then(r?function(r){return c(e,t()).then((function(){return r}))}:t,r?function(r){return c(e,t()).then((function(){throw r}))}:t)}})},function(t,e,r){"use strict";var n=r(4),i=r(34),o=r(54);n(n.S,"Promise",{try:function(t){var e=i.f(this),r=o(t);return(r.e?e.reject:e.resolve)(r.v),e.promise}})},function(t,e,r){t.exports={default:r(105),__esModule:!0}},function(t,e,r){var n=r(0),i=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(r(107));e.default=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,n.default)(t,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}()},function(t,e,r){t.exports={default:r(108),__esModule:!0}},function(t,e,r){r(109);var n=r(0).Object;t.exports=function(t,e,r){return n.defineProperty(t,e,r)}},function(t,e,r){var n=r(4);n(n.S+n.F*!r(5),"Object",{defineProperty:r(8).f})},function(t,e,r){"use strict";var n=r(111);e.webSocket=n.WebSocketSubject.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(57),o=r(10),s=r(15),c=r(11),u=r(9),a=r(120),h=r(59),l=r(35),f=r(130),p=function(t){function e(e,r){if(e instanceof s.Observable)t.call(this,r,e);else{if(t.call(this),this.WebSocketCtor=u.root.WebSocket,this._output=new i.Subject,"string"==typeof e?this.url=e:f.assign(this,e),!this.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new a.ReplaySubject}}return n(e,t),e.prototype.resultSelector=function(t){return JSON.parse(t.data)},e.create=function(t){return new e(t)},e.prototype.lift=function(t){var r=new e(this,this.destination);return r.operator=t,r},e.prototype._resetState=function(){this.socket=null,this.source||(this.destination=new a.ReplaySubject),this._output=new i.Subject},e.prototype.multiplex=function(t,e,r){var n=this;return new s.Observable((function(i){var o=h.tryCatch(t)();o===l.errorObject?i.error(l.errorObject.e):n.next(o);var s=n.subscribe((function(t){var e=h.tryCatch(r)(t);e===l.errorObject?i.error(l.errorObject.e):e&&i.next(t)}),(function(t){return i.error(t)}),(function(){return i.complete()}));return function(){var t=h.tryCatch(e)();t===l.errorObject?i.error(l.errorObject.e):n.next(t),s.unsubscribe()}}))},e.prototype._connectSocket=function(){var t=this,e=this.WebSocketCtor,r=this._output,n=null;try{n=this.protocol?new e(this.url,this.protocol):new e(this.url),this.socket=n,this.binaryType&&(this.socket.binaryType=this.binaryType)}catch(t){return void r.error(t)}var i=new c.Subscription((function(){t.socket=null,n&&1===n.readyState&&n.close()}));n.onopen=function(e){var s=t.openObserver;s&&s.next(e);var c=t.destination;t.destination=o.Subscriber.create((function(t){return 1===n.readyState&&n.send(t)}),(function(e){var i=t.closingObserver;i&&i.next(void 0),e&&e.code?n.close(e.code,e.reason):r.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),t._resetState()}),(function(){var e=t.closingObserver;e&&e.next(void 0),n.close(),t._resetState()})),c&&c instanceof a.ReplaySubject&&i.add(c.subscribe(t.destination))},n.onerror=function(e){t._resetState(),r.error(e)},n.onclose=function(e){t._resetState();var n=t.closeObserver;n&&n.next(e),e.wasClean?r.complete():r.error(e)},n.onmessage=function(e){var n=h.tryCatch(t.resultSelector)(e);n===l.errorObject?r.error(l.errorObject.e):r.next(n)}},e.prototype._subscribe=function(t){var e=this,r=this.source;if(r)return r.subscribe(t);this.socket||this._connectSocket();var n=new c.Subscription;return n.add(this._output.subscribe(t)),n.add((function(){var t=e.socket;0===e._output.observers.length&&(t&&1===t.readyState&&t.close(),e._resetState())})),n},e.prototype.unsubscribe=function(){var e=this.source,r=this.socket;r&&1===r.readyState&&(r.close(),this._resetState()),t.prototype.unsubscribe.call(this),e||(this.destination=new a.ReplaySubject)},e}(i.AnonymousSubject);e.WebSocketSubject=p},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";var n=r(10),i=r(36),o=r(60);e.toSubscriber=function(t,e,r){if(t){if(t instanceof n.Subscriber)return t;if(t[i.rxSubscriber])return t[i.rxSubscriber]()}return t||e||r?new n.Subscriber(t,e,r):new n.Subscriber(o.empty)}},function(t,e,r){"use strict";e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},function(t,e,r){"use strict";e.isObject=function(t){return null!=t&&"object"==typeof t}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(e){t.call(this),this.errors=e;var r=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return n(e,t),e}(Error);e.UnsubscriptionError=i},function(t,e,r){"use strict";function n(t){var e,r=t.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}var i=r(9);e.getSymbolObservable=n,e.observable=n(i.root),e.$$observable=e.observable},function(t,e,r){"use strict";function n(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:i.noop}var i=r(119);e.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return n(t)},e.pipeFromArray=n},function(t,e,r){"use strict";e.noop=function(){}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(57),o=r(121),s=r(11),c=r(128),u=r(61),a=r(62),h=function(t){function e(e,r,n){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY),t.call(this),this.scheduler=n,this._events=[],this._bufferSize=e<1?1:e,this._windowTime=r<1?1:r}return n(e,t),e.prototype.next=function(e){var r=this._getNow();this._events.push(new l(r,e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,r=this._trimBufferThenGetEvents(),n=this.scheduler;if(this.closed)throw new u.ObjectUnsubscribedError;this.hasError||this.isStopped?e=s.Subscription.EMPTY:(this.observers.push(t),e=new a.SubjectSubscription(this,t)),n&&t.add(t=new c.ObserveOnSubscriber(t,n));for(var i=r.length,o=0;o<i&&!t.closed;o++)t.next(r[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||o.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,r=this._windowTime,n=this._events,i=n.length,o=0;o<i&&!(t-n[o].time<r);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&n.splice(0,o),n},e}(i.Subject);e.ReplaySubject=h;var l=function(t,e){this.time=t,this.value=e}},function(t,e,r){"use strict";var n=r(122),i=r(125);e.queue=new i.QueueScheduler(n.QueueAction)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r}return n(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,n):e.flush(this)},e}(r(123).AsyncAction);e.QueueAction=i},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(9),o=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r,this.pending=!1}return n(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,e)),this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),i.root.setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){return void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending?e:void i.root.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r=!1,n=void 0;try{this.work(t)}catch(t){r=!0,n=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(r(124).Action);e.AsyncAction=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(e,r){t.call(this)}return n(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(r(11).Subscription);e.Action=i},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(r(126).AsyncScheduler);e.QueueScheduler=i},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return n(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},e}(r(127).Scheduler);e.AsyncScheduler=i},function(t,e,r){"use strict";var n=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=Date.now?Date.now:function(){return+new Date},t}();e.Scheduler=n},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(10),o=r(129);e.observeOn=function(t,e){return void 0===e&&(e=0),function(r){return r.lift(new s(t,e))}};var s=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.scheduler,this.delay))},t}();e.ObserveOnOperator=s;var c=function(t){function e(e,r,n){void 0===n&&(n=0),t.call(this,e),this.scheduler=r,this.delay=n}return n(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new u(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(o.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(o.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(o.Notification.createComplete())},e}(i.Subscriber);e.ObserveOnSubscriber=c;var u=function(t,e){this.notification=t,this.destination=e};e.ObserveOnMessage=u},function(t,e,r){"use strict";var n=r(15),i=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){switch(this.kind){case"N":return n.Observable.of(this.value);case"E":return n.Observable.throw(this.error);case"C":return n.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();e.Notification=i},function(t,e,r){"use strict";function n(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=e.length,i=0;i<n;i++){var o=e[i];for(var s in o)o.hasOwnProperty(s)&&(t[s]=o[s])}return t}function i(t){return t.Object.assign||n}var o=r(9);e.assignImpl=n,e.getAssign=i,e.assign=i(o.root)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.endpoints=void 0;var n=function(t){return t&&t.__esModule?t:{default:t}}(r(132)),i=["SUPERUSER","AdminUI","UserOperator","Trading","Withdraw","Deposit","AccountOperator","Remarketer"];e.endpoints=[].concat((0,n.default)(["AddUserAffiliateTag","AddUserAPIKey","Authenticate2FA","AuthenticateUser","CancelAllOrders","CancelOrder","CancelUserReport","ConfirmRequestTransferFunds","ConfirmTransferFunds","CreateDepositTicket","CreateWithdrawTicket","Disable2FA","EnableGoogle2FA","GenerateTradeActivityReport","GenerateTransactionActivityReport","GenerateTreasuryActivityReport","GetAccountInfo","GetAccountPositions","GetAccountTrades","GetDepositInfo","GetDepositRequestInfoTemplate","GetDepositTickets","GetInstruments","GetOperatorLoyaltyFeeConfigsForOms","GetOMSs","GetOpenOrders","GetOpenTradeReports","GetOrderFee","GetProducts","GetRequestTransfer","GetRequestTransferRequestsReceived","GetRequestTransferRequestsRequested","GetRequestTransfers","GetTransfers","GetUserAccounts","GetUserAffiliateCount","GetUserAffiliateTag","GetUserAPIKeys","GetUserConfig","GetUserInfo","GetUserPermissions","GetUserReportTickets","GetWithdrawFee","GetWithdrawTemplate","GetWithdrawTemplateTypes","GetWithdrawTickets","LogOut","Ping","RegisterNewUser","RejectRequestTransferFunds","RemoveUserAPIKey","RejectRequestTransferFunds","RequestTransferFunds","ResendVerificationEmail","ResetPassword","ScheduleTradeActivityReport","ScheduleTransactionActivityReport","ScheduleTreasuryActivityReport","SendOrder","SetUserConfig","SetUserInfo","SubmitBlockTrade","SubscribeAccountEvents","SubscribeLevel1","SubscribeLevel2","SubscribeTicker","SubscribeTrades","TransferFunds","UnSubscribeLevel1","UnsubscribeLevel2","UnSubscribeTicker","UnSubscribeTrades","UpdateAccount","ValidateUserRegistration","WebAuthenticateUser"].filter((function(t){return!i.includes(t)}))),["RegisterNewUser"])},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(r(133));e.default=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return(0,n.default)(t)}},function(t,e,r){t.exports={default:r(134),__esModule:!0}},function(t,e,r){r(19),r(135),t.exports=r(0).Array.from},function(t,e,r){"use strict";var n=r(12),i=r(4),o=r(31),s=r(50),c=r(51),u=r(27),a=r(136),h=r(33);i(i.S+i.F*!r(56)((function(t){Array.from(t)})),"Array",{from:function(t){var e,r,i,l,f=o(t),p="function"==typeof this?this:Array,d=arguments.length,_=d>1?arguments[1]:void 0,v=void 0!==_,b=0,y=h(f);if(v&&(_=n(_,d>2?arguments[2]:void 0,2)),null==y||p==Array&&c(y))for(r=new p(e=u(f.length));e>b;b++)a(r,b,v?_(f[b],b):f[b]);else for(l=y.call(f),r=new p;!(i=l.next()).done;b++)a(r,b,v?s(l,_,[i.value,b],!0):i.value);return r.length=b,r}})},function(t,e,r){"use strict";var n=r(8),i=r(26);t.exports=function(t,e,r){e in t?n.f(t,e,i(0,r)):t[e]=r}},function(t,e,r){"use strict";var n=r(15),i=r(138);n.Observable.prototype.filter=i.filter},function(t,e,r){"use strict";var n=r(139);e.filter=function(t,e){return n.filter(t,e)(this)}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(10);e.filter=function(t,e){return function(r){return r.lift(new o(t,e))}};var o=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))},t}(),s=function(t){function e(e,r,n){t.call(this,e),this.predicate=r,this.thisArg=n,this.count=0}return n(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(i.Subscriber)},function(t,e,r){"use strict";var n=r(15),i=r(141);n.Observable.prototype.map=i.map},function(t,e,r){"use strict";var n=r(142);e.map=function(t,e){return n.map(t,e)(this)}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(10);e.map=function(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new o(t,e))}};var o=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}();e.MapOperator=o;var s=function(t){function e(e,r,n){t.call(this,e),this.project=r,this.count=0,this.thisArg=n||this}return n(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.Subscriber)},function(t,e){t.exports=n}]))},9:t=>{"use strict";function e(t){if(!(this instanceof e))return new e(t);t=t||{},this.concurrency=t.concurrency||1/0,this.pending=0,this.jobs=[],this.cbs=[],this._done=r.bind(this)}function r(){this.pending--,this._run()}["push","unshift","splice"].forEach((function(t){e.prototype[t]=function(){var e=Array.prototype[t].apply(this.jobs,arguments);return this._run(),e}})),Object.defineProperty(e.prototype,"length",{get:function(){return this.pending+this.jobs.length}}),e.prototype._run=function(){if(this.pending!==this.concurrency){if(this.jobs.length){var t=this.jobs.shift();this.pending++,t(this._done),this._run()}if(0===this.pending)for(;0!==this.cbs.length;){var e=this.cbs.pop();process.nextTick(e)}}},e.prototype.onDone=function(t){"function"==typeof t&&(this.cbs.push(t),this._run())},t.exports=e},509:(t,e,r)=>{var n=r(300),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=s),o(i,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},866:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r=0;function n(t){if(!(this instanceof n))return new n(t);this.id=r++,this.ee=t}n.prototype.on=function(t,e,r){return e.__ultron=this.id,this.ee.on(t,e,r),this},n.prototype.once=function(t,e,r){return e.__ultron=this.id,this.ee.once(t,e,r),this},n.prototype.remove=function(){var t,r=arguments,n=this.ee;if(1===r.length&&"string"==typeof r[0])r=r[0].split(/[, ]+/);else if(!r.length)if(n.eventNames)r=n.eventNames();else if(n._events){for(t in r=[],n._events)e.call(n._events,t)&&r.push(t);Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n._events)))}for(var i=0;i<r.length;i++)for(var o=n.listeners(r[i]),s=0;s<o.length;s++){if((t=o[s]).listener){if(t.listener.__ultron!==this.id)continue}else if(t.__ultron!==this.id)continue;n.removeListener(r[i],t)}return this},n.prototype.destroy=function(){return!!this.ee&&(this.remove(),this.ee=null,!0)},t.exports=n},83:(t,e,r)=>{"use strict";t.exports=r(744)},882:(t,e,r)=>{"use strict";const n=r(509).Buffer,i=(t,e)=>{const r=n.allocUnsafe(e);for(var i=0,o=0;o<t.length;o++){const e=t[o];e.copy(r,i),i+=e.length}return r};try{const e=r(Object(function(){var t=new Error("Cannot find module 'bufferutil'");throw t.code="MODULE_NOT_FOUND",t}()));t.exports=Object.assign({concat:i},e.BufferUtil||e)}catch(e){const r=(t,e,r,n,i)=>{for(var o=0;o<i;o++)r[n+o]=t[o]^e[3&o]},n=(t,e)=>{const r=t.length;for(var n=0;n<r;n++)t[n]^=e[3&n]};t.exports={concat:i,mask:r,unmask:n}}},697:(t,e,r)=>{"use strict";const n=r(509).Buffer;e.BINARY_TYPES=["nodebuffer","arraybuffer","fragments"],e.GUID="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",e.EMPTY_BUFFER=n.alloc(0),e.NOOP=()=>{}},951:t=>{"use strict";t.exports={isValidErrorCode:function(t){return t>=1e3&&t<=1013&&1004!==t&&1005!==t&&1006!==t||t>=3e3&&t<=4999},1e3:"normal",1001:"going away",1002:"protocol error",1003:"unsupported data",1004:"reserved",1005:"reserved for extensions",1006:"reserved for extensions",1007:"inconsistent or invalid data",1008:"policy violation",1009:"message too big",1010:"extension handshake missing",1011:"an unexpected condition prevented the request from being fulfilled",1012:"service restart",1013:"try again later"}},422:t=>{"use strict";class e{constructor(t,e){this.target=e,this.type=t}}class r extends e{constructor(t,e){super("message",e),this.data=t}}class n extends e{constructor(t,e,r){super("close",r),this.wasClean=r._closeFrameReceived&&r._closeFrameSent,this.reason=e,this.code=t}}class i extends e{constructor(t){super("open",t)}}const o={addEventListener(t,e){function o(t){e.call(this,new r(t,this))}function s(t,r){e.call(this,new n(t,r,this))}function c(t){t.type="error",t.target=this,e.call(this,t)}function u(){e.call(this,new i(this))}"function"==typeof e&&("message"===t?(o._listener=e,this.on(t,o)):"close"===t?(s._listener=e,this.on(t,s)):"error"===t?(c._listener=e,this.on(t,c)):"open"===t?(u._listener=e,this.on(t,u)):this.on(t,e))},removeEventListener(t,e){const r=this.listeners(t);for(var n=0;n<r.length;n++)r[n]!==e&&r[n]._listener!==e||this.removeListener(t,r[n])}};t.exports=o},896:t=>{"use strict";const e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function r(t,e,r){Object.prototype.hasOwnProperty.call(t,e)?t[e].push(r):t[e]=[r]}t.exports={format:function(t){return Object.keys(t).map((e=>{var r=t[e];return Array.isArray(r)||(r=[r]),r.map((t=>[e].concat(Object.keys(t).map((e=>{var r=t[e];return Array.isArray(r)||(r=[r]),r.map((t=>!0===t?e:`${e}=${t}`)).join("; ")}))).join("; "))).join(", ")})).join(", ")},parse:function(t){const n={};if(void 0===t||""===t)return n;for(var i,o,s={},c=!1,u=!1,a=!1,h=-1,l=-1,f=0;f<t.length;f++){const d=t.charCodeAt(f);if(void 0===i)if(-1===l&&1===e[d])-1===h&&(h=f);else if(32===d||9===d)-1===l&&-1!==h&&(l=f);else{if(59!==d&&44!==d)throw new Error(`unexpected character at index ${f}`);{if(-1===h)throw new Error(`unexpected character at index ${f}`);-1===l&&(l=f);const e=t.slice(h,l);44===d?(r(n,e,s),s={}):i=e,h=l=-1}}else if(void 0===o)if(-1===l&&1===e[d])-1===h&&(h=f);else if(32===d||9===d)-1===l&&-1!==h&&(l=f);else if(59===d||44===d){if(-1===h)throw new Error(`unexpected character at index ${f}`);-1===l&&(l=f),r(s,t.slice(h,l),!0),44===d&&(r(n,i,s),s={},i=void 0),h=l=-1}else{if(61!==d||-1===h||-1!==l)throw new Error(`unexpected character at index ${f}`);o=t.slice(h,f),h=l=-1}else if(u){if(1!==e[d])throw new Error(`unexpected character at index ${f}`);-1===h?h=f:c||(c=!0),u=!1}else if(a)if(1===e[d])-1===h&&(h=f);else if(34===d&&-1!==h)a=!1,l=f;else{if(92!==d)throw new Error(`unexpected character at index ${f}`);u=!0}else if(34===d&&61===t.charCodeAt(f-1))a=!0;else if(-1===l&&1===e[d])-1===h&&(h=f);else if(-1===h||32!==d&&9!==d){if(59!==d&&44!==d)throw new Error(`unexpected character at index ${f}`);if(-1===h)throw new Error(`unexpected character at index ${f}`);-1===l&&(l=f);var p=t.slice(h,l);c&&(p=p.replace(/\\/g,""),c=!1),r(s,o,p),44===d&&(r(n,i,s),s={},i=void 0),o=void 0,h=l=-1}else-1===l&&(l=f)}if(-1===h||a)throw new Error("unexpected end of input");-1===l&&(l=f);const d=t.slice(h,l);return void 0===i?r(n,d,{}):(void 0===o?r(s,d,!0):r(s,o,c?d.replace(/\\/g,""):d),r(n,i,s)),n}}},778:(t,e,r)=>{"use strict";const n=r(509),i=r(9),o=r(796),s=r(882),c=n.Buffer,u=c.from([0,0,255,255]),a=c.from([0]),h=Symbol("write-in-progress"),l=Symbol("pending-close"),f=Symbol("total-length"),p=Symbol("callback"),d=Symbol("buffers"),_=Symbol("error"),v=Symbol("owner");let b;function y(t){this[d].push(t),this[f]+=t.length}function m(t){this[f]+=t.length,this[v]._maxPayload<1||this[f]<=this[v]._maxPayload?this[d].push(t):(this[_]=new Error("max payload size exceeded"),this[_].closeCode=1009,this.removeListener("data",m),this.reset())}function w(t){this[v]._inflate=null,this[p](t)}t.exports=class{constructor(t,e,r){if(this._maxPayload=0|r,this._options=t||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!e,this._deflate=null,this._inflate=null,this.params=null,!b){const t=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;b=new i({concurrency:t})}}static get extensionName(){return"permessage-deflate"}offer(){const t={};return this._options.serverNoContextTakeover&&(t.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(t.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(t.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?t.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(t.client_max_window_bits=!0),t}accept(t){var e;return t=this.normalizeParams(t),e=this._isServer?this.acceptAsServer(t):this.acceptAsClient(t),this.params=e,e}cleanup(){this._inflate&&(this._inflate[h]?this._inflate[l]=!0:(this._inflate.close(),this._inflate=null)),this._deflate&&(this._deflate[h]?this._deflate[l]=!0:(this._deflate.close(),this._deflate=null))}acceptAsServer(t){const e={};if(!t.some((t=>{if(!(!1===this._options.serverNoContextTakeover&&t.server_no_context_takeover||!1===this._options.serverMaxWindowBits&&t.server_max_window_bits||"number"==typeof this._options.serverMaxWindowBits&&"number"==typeof t.server_max_window_bits&&this._options.serverMaxWindowBits>t.server_max_window_bits||"number"==typeof this._options.clientMaxWindowBits&&!t.client_max_window_bits))return(this._options.serverNoContextTakeover||t.server_no_context_takeover)&&(e.server_no_context_takeover=!0),(this._options.clientNoContextTakeover||!1!==this._options.clientNoContextTakeover&&t.client_no_context_takeover)&&(e.client_no_context_takeover=!0),"number"==typeof this._options.serverMaxWindowBits?e.server_max_window_bits=this._options.serverMaxWindowBits:"number"==typeof t.server_max_window_bits&&(e.server_max_window_bits=t.server_max_window_bits),"number"==typeof this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:!1!==this._options.clientMaxWindowBits&&"number"==typeof t.client_max_window_bits&&(e.client_max_window_bits=t.client_max_window_bits),!0})))throw new Error("Doesn't support the offered configuration");return e}acceptAsClient(t){const e=t[0];if(!1===this._options.clientNoContextTakeover&&e.client_no_context_takeover)throw new Error('Invalid value for "client_no_context_takeover"');if("number"==typeof this._options.clientMaxWindowBits&&(!e.client_max_window_bits||e.client_max_window_bits>this._options.clientMaxWindowBits)||!1===this._options.clientMaxWindowBits&&e.client_max_window_bits)throw new Error('Invalid value for "client_max_window_bits"');return e}normalizeParams(t){return t.map((t=>(Object.keys(t).forEach((e=>{var r=t[e];if(r.length>1)throw new Error(`Multiple extension parameters for ${e}`);switch(r=r[0],e){case"server_no_context_takeover":case"client_no_context_takeover":if(!0!==r)throw new Error(`invalid extension parameter value for ${e} (${r})`);t[e]=!0;break;case"server_max_window_bits":case"client_max_window_bits":if("string"==typeof r&&(r=parseInt(r,10),Number.isNaN(r)||r<o.Z_MIN_WINDOWBITS||r>o.Z_MAX_WINDOWBITS))throw new Error(`invalid extension parameter value for ${e} (${r})`);if(!this._isServer&&!0===r)throw new Error(`Missing extension parameter value for ${e}`);t[e]=r;break;default:throw new Error(`Not defined extension parameter (${e})`)}})),t)))}decompress(t,e,r){b.push((n=>{this._decompress(t,e,((t,e)=>{n(),r(t,e)}))}))}compress(t,e,r){b.push((n=>{this._compress(t,e,((t,e)=>{n(),r(t,e)}))}))}_decompress(t,e,r){const n=this._isServer?"client":"server";if(!this._inflate){const t=`${n}_max_window_bits`,e="number"!=typeof this.params[t]?o.Z_DEFAULT_WINDOWBITS:this.params[t];this._inflate=o.createInflateRaw({windowBits:e}),this._inflate[f]=0,this._inflate[d]=[],this._inflate[v]=this,this._inflate.on("error",w),this._inflate.on("data",m)}this._inflate[p]=r,this._inflate[h]=!0,this._inflate.write(t),e&&this._inflate.write(u),this._inflate.flush((()=>{const t=this._inflate[_];if(t)return this._inflate.close(),this._inflate=null,void r(t);const i=s.concat(this._inflate[d],this._inflate[f]);e&&this.params[`${n}_no_context_takeover`]||this._inflate[l]?(this._inflate.close(),this._inflate=null):(this._inflate[h]=!1,this._inflate[f]=0,this._inflate[d]=[]),r(null,i)}))}_compress(t,e,r){if(!t||0===t.length)return void process.nextTick(r,null,a);const n=this._isServer?"server":"client";if(!this._deflate){const t=`${n}_max_window_bits`,e="number"!=typeof this.params[t]?o.Z_DEFAULT_WINDOWBITS:this.params[t];this._deflate=o.createDeflateRaw({memLevel:this._options.memLevel,level:this._options.level,flush:o.Z_SYNC_FLUSH,windowBits:e}),this._deflate[f]=0,this._deflate[d]=[],this._deflate.on("data",y)}this._deflate[h]=!0,this._deflate.write(t),this._deflate.flush(o.Z_SYNC_FLUSH,(()=>{var t=s.concat(this._deflate[d],this._deflate[f]);e&&(t=t.slice(0,t.length-4)),e&&this.params[`${n}_no_context_takeover`]||this._deflate[l]?(this._deflate.close(),this._deflate=null):(this._deflate[h]=!1,this._deflate[f]=0,this._deflate[d]=[]),r(null,t)}))}}},251:(t,e,r)=>{"use strict";const n=r(509),i=r(778),o=r(863),s=r(882),c=r(951),u=r(697),a=n.Buffer;function h(t,e){return 1===t.length?t[0]:t.length>1?s.concat(t,e):u.EMPTY_BUFFER}t.exports=class{constructor(t,e,r){this._binaryType=r||u.BINARY_TYPES[0],this._extensions=t||{},this._maxPayload=0|e,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._fragmented=0,this._masked=!1,this._fin=!1,this._mask=null,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._cleanupCallback=null,this._hadError=!1,this._dead=!1,this._loop=!1,this.onmessage=null,this.onclose=null,this.onerror=null,this.onping=null,this.onpong=null,this._state=0}readBuffer(t){var e,r,n=0;if(this._bufferedBytes-=t,t===this._buffers[0].length)return this._buffers.shift();if(t<this._buffers[0].length)return e=this._buffers[0].slice(0,t),this._buffers[0]=this._buffers[0].slice(t),e;for(e=a.allocUnsafe(t);t>0;)t>=(r=this._buffers[0].length)?(this._buffers[0].copy(e,n),n+=r,this._buffers.shift()):(this._buffers[0].copy(e,n,0,t),this._buffers[0]=this._buffers[0].slice(t)),t-=r;return e}hasBufferedBytes(t){return this._bufferedBytes>=t||(this._loop=!1,this._dead&&this.cleanup(this._cleanupCallback),!1)}add(t){this._dead||(this._bufferedBytes+=t.length,this._buffers.push(t),this.startLoop())}startLoop(){for(this._loop=!0;this._loop;)switch(this._state){case 0:this.getInfo();break;case 1:this.getPayloadLength16();break;case 2:this.getPayloadLength64();break;case 3:this.getMask();break;case 4:this.getData();break;default:this._loop=!1}}getInfo(){if(!this.hasBufferedBytes(2))return;const t=this.readBuffer(2);if(0!=(48&t[0]))return void this.error(new Error("RSV2 and RSV3 must be clear"),1002);const e=64==(64&t[0]);if(!e||this._extensions[i.extensionName]){if(this._fin=128==(128&t[0]),this._opcode=15&t[0],this._payloadLength=127&t[1],0===this._opcode){if(e)return void this.error(new Error("RSV1 must be clear"),1002);if(!this._fragmented)return void this.error(new Error(`invalid opcode: ${this._opcode}`),1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return void this.error(new Error(`invalid opcode: ${this._opcode}`),1002);this._compressed=e}else{if(!(this._opcode>7&&this._opcode<11))return void this.error(new Error(`invalid opcode: ${this._opcode}`),1002);if(!this._fin)return void this.error(new Error("FIN must be set"),1002);if(e)return void this.error(new Error("RSV1 must be clear"),1002);if(this._payloadLength>125)return void this.error(new Error("invalid payload length"),1002)}this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&t[1]),126===this._payloadLength?this._state=1:127===this._payloadLength?this._state=2:this.haveLength()}else this.error(new Error("RSV1 must be clear"),1002)}getPayloadLength16(){this.hasBufferedBytes(2)&&(this._payloadLength=this.readBuffer(2).readUInt16BE(0,!0),this.haveLength())}getPayloadLength64(){if(!this.hasBufferedBytes(8))return;const t=this.readBuffer(8),e=t.readUInt32BE(0,!0);e>Math.pow(2,21)-1?this.error(new Error("max payload size exceeded"),1009):(this._payloadLength=e*Math.pow(2,32)+t.readUInt32BE(4,!0),this.haveLength())}haveLength(){this._opcode<8&&this.maxPayloadExceeded(this._payloadLength)||(this._masked?this._state=3:this._state=4)}getMask(){this.hasBufferedBytes(4)&&(this._mask=this.readBuffer(4),this._state=4)}getData(){var t=u.EMPTY_BUFFER;if(this._payloadLength){if(!this.hasBufferedBytes(this._payloadLength))return;t=this.readBuffer(this._payloadLength),this._masked&&s.unmask(t,this._mask)}this._opcode>7?this.controlMessage(t):this._compressed?(this._state=5,this.decompress(t)):this.pushFragment(t)&&this.dataMessage()}decompress(t){this._extensions[i.extensionName].decompress(t,this._fin,((t,e)=>{t?this.error(t,1009===t.closeCode?1009:1007):(this.pushFragment(e)&&this.dataMessage(),this.startLoop())}))}dataMessage(){if(this._fin){const r=this._messageLength,n=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){var t;t="nodebuffer"===this._binaryType?h(n,r):"arraybuffer"===this._binaryType?0===(e=h(n,r)).byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength):n,this.onmessage(t)}else{const t=h(n,r);if(!o(t))return void this.error(new Error("invalid utf8 sequence"),1007);this.onmessage(t.toString())}}var e;this._state=0}controlMessage(t){if(8!==this._opcode)9===this._opcode?this.onping(t):this.onpong(t),this._state=0;else if(0===t.length)this.onclose(1e3,""),this._loop=!1,this.cleanup(this._cleanupCallback);else if(1===t.length)this.error(new Error("invalid payload length"),1002);else{const e=t.readUInt16BE(0,!0);if(!c.isValidErrorCode(e))return void this.error(new Error(`invalid status code: ${e}`),1002);const r=t.slice(2);if(!o(r))return void this.error(new Error("invalid utf8 sequence"),1007);this.onclose(e,r.toString()),this._loop=!1,this.cleanup(this._cleanupCallback)}}error(t,e){this.onerror(t,e),this._hadError=!0,this._loop=!1,this.cleanup(this._cleanupCallback)}maxPayloadExceeded(t){if(0===t||this._maxPayload<1)return!1;const e=this._totalPayloadLength+t;return e<=this._maxPayload?(this._totalPayloadLength=e,!1):(this.error(new Error("max payload size exceeded"),1009),!0)}pushFragment(t){if(0===t.length)return!0;const e=this._messageLength+t.length;return this._maxPayload<1||e<=this._maxPayload?(this._messageLength=e,this._fragments.push(t),!0):(this.error(new Error("max payload size exceeded"),1009),!1)}cleanup(t){this._dead=!0,this._hadError||!this._loop&&5!==this._state?(this._extensions=null,this._fragments=null,this._buffers=null,this._mask=null,this._cleanupCallback=null,this.onmessage=null,this.onclose=null,this.onerror=null,this.onping=null,this.onpong=null,t&&t()):this._cleanupCallback=t}}},356:(t,e,r)=>{"use strict";const n=r(509),i=r(113),o=r(778),s=r(882),c=r(951),u=r(697),a=n.Buffer;class h{constructor(t,e){this._extensions=e||{},this._socket=t,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(t,e){const r=t.length<1024||e.mask&&e.readOnly;var n=e.mask?6:2,o=t.length;t.length>=65536?(n+=8,o=127):t.length>125&&(n+=2,o=126);const c=a.allocUnsafe(r?t.length+n:n);if(c[0]=e.fin?128|e.opcode:e.opcode,e.rsv1&&(c[0]|=64),126===o?c.writeUInt16BE(t.length,2,!0):127===o&&(c.writeUInt32BE(0,2,!0),c.writeUInt32BE(t.length,6,!0)),!e.mask)return c[1]=o,r?(t.copy(c,n),[c]):[c,t];const u=i.randomBytes(4);return c[1]=128|o,c[n-4]=u[0],c[n-3]=u[1],c[n-2]=u[2],c[n-1]=u[3],r?(s.mask(t,u,c,n,t.length),[c]):(s.mask(t,u,t,0,t.length),[c,t])}close(t,e,r,n){var i;if(void 0===t)t=1e3;else if("number"!=typeof t||!c.isValidErrorCode(t))throw new Error("first argument must be a valid error code number");void 0===e||""===e?1e3===t?i=u.EMPTY_BUFFER:(i=a.allocUnsafe(2)).writeUInt16BE(t,0,!0):((i=a.allocUnsafe(2+a.byteLength(e))).writeUInt16BE(t,0,!0),i.write(e,2)),this._deflating?this.enqueue([this.doClose,i,r,n]):this.doClose(i,r,n)}doClose(t,e,r){this.sendFrame(h.frame(t,{fin:!0,rsv1:!1,opcode:8,mask:e,readOnly:!1}),r)}ping(t,e){var r=!0;a.isBuffer(t)||(t instanceof ArrayBuffer?t=a.from(t):ArrayBuffer.isView(t)?t=l(t):(t=a.from(t),r=!1)),this._deflating?this.enqueue([this.doPing,t,e,r]):this.doPing(t,e,r)}doPing(t,e,r){this.sendFrame(h.frame(t,{fin:!0,rsv1:!1,opcode:9,mask:e,readOnly:r}))}pong(t,e){var r=!0;a.isBuffer(t)||(t instanceof ArrayBuffer?t=a.from(t):ArrayBuffer.isView(t)?t=l(t):(t=a.from(t),r=!1)),this._deflating?this.enqueue([this.doPong,t,e,r]):this.doPong(t,e,r)}doPong(t,e,r){this.sendFrame(h.frame(t,{fin:!0,rsv1:!1,opcode:10,mask:e,readOnly:r}))}send(t,e,r){var n=e.binary?2:1,i=e.compress,s=!0;a.isBuffer(t)||(t instanceof ArrayBuffer?t=a.from(t):ArrayBuffer.isView(t)?t=l(t):(t=a.from(t),s=!1));const c=this._extensions[o.extensionName];if(this._firstFragment?(this._firstFragment=!1,i&&c&&(i=t.length>=c._threshold),this._compress=i):(i=!1,n=0),e.fin&&(this._firstFragment=!0),c){const o={fin:e.fin,rsv1:i,opcode:n,mask:e.mask,readOnly:s};this._deflating?this.enqueue([this.dispatch,t,this._compress,o,r]):this.dispatch(t,this._compress,o,r)}else this.sendFrame(h.frame(t,{fin:e.fin,rsv1:!1,opcode:n,mask:e.mask,readOnly:s}),r)}dispatch(t,e,r,n){if(!e)return void this.sendFrame(h.frame(t,r),n);const i=this._extensions[o.extensionName];this._deflating=!0,i.compress(t,r.fin,((t,e)=>{r.readOnly=!1,this.sendFrame(h.frame(e,r),n),this._deflating=!1,this.dequeue()}))}dequeue(){for(;!this._deflating&&this._queue.length;){const t=this._queue.shift();this._bufferedBytes-=t[1].length,t[0].apply(this,t.slice(1))}}enqueue(t){this._bufferedBytes+=t[1].length,this._queue.push(t)}sendFrame(t,e){2===t.length?(this._socket.write(t[0]),this._socket.write(t[1],e)):this._socket.write(t[0],e)}}function l(t){const e=a.from(t.buffer);return t.byteLength!==t.buffer.byteLength?e.slice(t.byteOffset,t.byteOffset+t.byteLength):e}t.exports=h},863:(t,e,r)=>{"use strict";try{const e=r(Object(function(){var t=new Error("Cannot find module 'utf-8-validate'");throw t.code="MODULE_NOT_FOUND",t}()));t.exports="object"==typeof e?e.Validation.isValidUTF8:e}catch(e){t.exports=()=>!0}},744:(t,e,r)=>{"use strict";const n=r(361),i=r(113),o=r(866),s=r(687),c=r(685),u=r(310),a=r(778),h=r(422),l=r(896),f=r(697),p=r(251),d=r(356),_=[8,13];class v extends n{constructor(t,e,r){super(),e?"string"==typeof e?e=[e]:Array.isArray(e)||(r=e,e=[]):e=[],this.readyState=v.CONNECTING,this.bytesReceived=0,this.extensions={},this.protocol="",this._binaryType=f.BINARY_TYPES[0],this._finalize=this.finalize.bind(this),this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._finalized=!1,this._closeCode=1006,this._receiver=null,this._sender=null,this._socket=null,this._ultron=null,Array.isArray(t)?b.call(this,t[0],t[1],r):y.call(this,t,e,r)}get CONNECTING(){return v.CONNECTING}get CLOSING(){return v.CLOSING}get CLOSED(){return v.CLOSED}get OPEN(){return v.OPEN}get bufferedAmount(){var t=0;return this._socket&&(t=this._socket.bufferSize+this._sender._bufferedBytes),t}get binaryType(){return this._binaryType}set binaryType(t){f.BINARY_TYPES.indexOf(t)<0||(this._binaryType=t,this._receiver&&(this._receiver._binaryType=t))}setSocket(t,e){t.setTimeout(0),t.setNoDelay(),this._receiver=new p(this.extensions,this._maxPayload,this.binaryType),this._sender=new d(t,this.extensions),this._ultron=new o(t),this._socket=t,this._ultron.on("close",this._finalize),this._ultron.on("error",this._finalize),this._ultron.on("end",this._finalize),e.length>0&&t.unshift(e),this._ultron.on("data",(t=>{this.bytesReceived+=t.length,this._receiver.add(t)})),this._receiver.onmessage=t=>this.emit("message",t),this._receiver.onping=t=>{this.pong(t,!this._isServer,!0),this.emit("ping",t)},this._receiver.onpong=t=>this.emit("pong",t),this._receiver.onclose=(t,e)=>{this._closeFrameReceived=!0,this._closeMessage=e,this._closeCode=t,this._finalized||this.close(t,e)},this._receiver.onerror=(t,e)=>{this._closeMessage="",this._closeCode=e,this.readyState=v.CLOSING,this.emit("error",t),this.finalize(!0)},this.readyState=v.OPEN,this.emit("open")}finalize(t){if(!this._finalized){if(this.readyState=v.CLOSING,this._finalized=!0,"object"==typeof t&&this.emit("error",t),!this._socket)return this.emitClose();clearTimeout(this._closeTimer),this._closeTimer=null,this._ultron.destroy(),this._ultron=null,this._socket.on("error",f.NOOP),t?this._socket.destroy():this._socket.end(),this._socket=null,this._sender=null,this._receiver.cleanup((()=>this.emitClose())),this._receiver=null}}emitClose(){this.readyState=v.CLOSED,this.emit("close",this._closeCode,this._closeMessage),this.extensions[a.extensionName]&&this.extensions[a.extensionName].cleanup(),this.extensions=null,this.removeAllListeners()}pause(){if(this.readyState!==v.OPEN)throw new Error("not opened");this._socket.pause()}resume(){if(this.readyState!==v.OPEN)throw new Error("not opened");this._socket.resume()}close(t,e){if(this.readyState!==v.CLOSED)return this.readyState===v.CONNECTING?(this._req.abort(),void this.finalize(new Error("closed before the connection is established"))):void(this.readyState!==v.CLOSING?(this.readyState=v.CLOSING,this._sender.close(t,e,!this._isServer,(t=>{t||(this._closeFrameSent=!0,this._finalized||(this._closeFrameReceived&&this._socket.end(),this._closeTimer=setTimeout(this._finalize,3e4,!0)))}))):this._closeFrameSent&&this._closeFrameReceived&&this._socket.end())}ping(t,e,r){if(this.readyState!==v.OPEN){if(r)return;throw new Error("not opened")}"number"==typeof t&&(t=t.toString()),void 0===e&&(e=!this._isServer),this._sender.ping(t||f.EMPTY_BUFFER,e)}pong(t,e,r){if(this.readyState!==v.OPEN){if(r)return;throw new Error("not opened")}"number"==typeof t&&(t=t.toString()),void 0===e&&(e=!this._isServer),this._sender.pong(t||f.EMPTY_BUFFER,e)}send(t,e,r){if("function"==typeof e&&(r=e,e={}),this.readyState!==v.OPEN){if(!r)throw new Error("not opened");return void r(new Error("not opened"))}"number"==typeof t&&(t=t.toString());const n=Object.assign({binary:"string"!=typeof t,mask:!this._isServer,compress:!0,fin:!0},e);this.extensions[a.extensionName]||(n.compress=!1),this._sender.send(t||f.EMPTY_BUFFER,n,r)}terminate(){if(this.readyState!==v.CLOSED)return this.readyState===v.CONNECTING?(this._req.abort(),void this.finalize(new Error("closed before the connection is established"))):void this.finalize(!0)}}function b(t,e,r){this.protocolVersion=r.protocolVersion,this._maxPayload=r.maxPayload,this.extensions=r.extensions,this.protocol=r.protocol,this._isServer=!0,this.setSocket(t,e)}function y(t,e,r){if(r=Object.assign({protocolVersion:_[1],protocol:e.join(","),perMessageDeflate:!0,handshakeTimeout:null,localAddress:null,headers:null,family:null,origin:null,agent:null,host:null,checkServerIdentity:null,rejectUnauthorized:null,passphrase:null,ciphers:null,ecdhCurve:null,cert:null,key:null,pfx:null,ca:null},r),-1===_.indexOf(r.protocolVersion))throw new Error(`unsupported protocol version: ${r.protocolVersion} (supported versions: ${_.join(", ")})`);this.protocolVersion=r.protocolVersion,this._isServer=!1,this.url=t;const n=u.parse(t),o="ws+unix:"===n.protocol;if(!(n.host||o&&n.path))throw new Error("invalid url");const h="wss:"===n.protocol||"https:"===n.protocol,p=i.randomBytes(16).toString("base64"),d=h?s:c;var b;const y={port:n.port||(h?443:80),host:n.hostname,path:"/",headers:{"Sec-WebSocket-Version":r.protocolVersion,"Sec-WebSocket-Key":p,Connection:"Upgrade",Upgrade:"websocket"}};if(r.headers&&Object.assign(y.headers,r.headers),r.perMessageDeflate&&(b=new a(!0!==r.perMessageDeflate?r.perMessageDeflate:{},!1),y.headers["Sec-WebSocket-Extensions"]=l.format({[a.extensionName]:b.offer()})),r.protocol&&(y.headers["Sec-WebSocket-Protocol"]=r.protocol),r.origin&&(r.protocolVersion<13?y.headers["Sec-WebSocket-Origin"]=r.origin:y.headers.Origin=r.origin),r.host&&(y.headers.Host=r.host),n.auth&&(y.auth=n.auth),r.localAddress&&(y.localAddress=r.localAddress),r.family&&(y.family=r.family),o){const t=n.path.split(":");y.socketPath=t[0],y.path=t[1]}else n.path&&("/"!==n.path.charAt(0)?y.path=`/${n.path}`:y.path=n.path);var m=r.agent;(null!=r.rejectUnauthorized||r.checkServerIdentity||r.passphrase||r.ciphers||r.ecdhCurve||r.cert||r.key||r.pfx||r.ca)&&(r.passphrase&&(y.passphrase=r.passphrase),r.ciphers&&(y.ciphers=r.ciphers),r.ecdhCurve&&(y.ecdhCurve=r.ecdhCurve),r.cert&&(y.cert=r.cert),r.key&&(y.key=r.key),r.pfx&&(y.pfx=r.pfx),r.ca&&(y.ca=r.ca),r.checkServerIdentity&&(y.checkServerIdentity=r.checkServerIdentity),null!=r.rejectUnauthorized&&(y.rejectUnauthorized=r.rejectUnauthorized),m||(m=new d.Agent(y))),m&&(y.agent=m),this._req=d.get(y),r.handshakeTimeout&&this._req.setTimeout(r.handshakeTimeout,(()=>{this._req.abort(),this.finalize(new Error("opening handshake has timed out"))})),this._req.on("error",(t=>{this._req.aborted||(this._req=null,this.finalize(t))})),this._req.on("response",(t=>{this.emit("unexpected-response",this._req,t)||(this._req.abort(),this.finalize(new Error(`unexpected server response (${t.statusCode})`)))})),this._req.on("upgrade",((t,e,n)=>{if(this.emit("headers",t.headers,t),this.readyState!==v.CONNECTING)return;this._req=null;const o=i.createHash("sha1").update(p+f.GUID,"binary").digest("base64");if(t.headers["sec-websocket-accept"]!==o)return e.destroy(),this.finalize(new Error("invalid server key"));const s=t.headers["sec-websocket-protocol"],c=(r.protocol||"").split(/, */);var u;if(!r.protocol&&s?u="server sent a subprotocol even though none requested":r.protocol&&!s?u="server sent no subprotocol even though requested":s&&-1===c.indexOf(s)&&(u="server responded with an invalid protocol"),u)return e.destroy(),this.finalize(new Error(u));if(s&&(this.protocol=s),b)try{const e=l.parse(t.headers["sec-websocket-extensions"]);e[a.extensionName]&&(b.accept(e[a.extensionName]),this.extensions[a.extensionName]=b)}catch(t){return e.destroy(),void this.finalize(new Error("invalid Sec-WebSocket-Extensions header"))}this.setSocket(e,n)}))}v.CONNECTING=0,v.OPEN=1,v.CLOSING=2,v.CLOSED=3,["open","error","close","message"].forEach((t=>{Object.defineProperty(v.prototype,`on${t}`,{get(){const e=this.listeners(t);for(var r=0;r<e.length;r++)if(e[r]._listener)return e[r]._listener},set(e){const r=this.listeners(t);for(var n=0;n<r.length;n++)r[n]._listener&&this.removeListener(t,r[n]);this.addEventListener(t,e)}})})),v.prototype.addEventListener=h.addEventListener,v.prototype.removeEventListener=h.removeEventListener,t.exports=v},300:t=>{"use strict";t.exports=r(300)},113:t=>{"use strict";t.exports=r(113)},361:t=>{"use strict";t.exports=r(361)},685:t=>{"use strict";t.exports=r(685)},687:t=>{"use strict";t.exports=r(687)},310:t=>{"use strict";t.exports=r(310)},796:t=>{"use strict";t.exports=r(796)}},i={},t.exports=function t(e){var r=i[e];if(void 0!==r)return r.exports;var o=i[e]={exports:{}};return n[e].call(o.exports,o,o.exports,t),o.exports}(915)},300:t=>{"use strict";t.exports=require("buffer")},113:t=>{"use strict";t.exports=require("crypto")},361:t=>{"use strict";t.exports=require("events")},685:t=>{"use strict";t.exports=require("http")},687:t=>{"use strict";t.exports=require("https")},310:t=>{"use strict";t.exports=require("url")},796:t=>{"use strict";t.exports=require("zlib")}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}(()=>{let{APEX:t}=r(178),e=new t("ws://10.0.0.25:14000/ws"),n=({i:t,n:r,o:n})=>{let i={m:1,i:t,n:r,o:n};e.ws.socket.send(JSON.stringify(i))};e.ws.socket.addEventListener("open",(()=>{console.log("opened")})),e.RPCPromise("Authenticate",{username:"TinagaProd",password:"TingaProd1112"}).then(console.log).then((()=>(console.log("AM_SubscribeToActions"),e.RPCPromise("AM_SubscribeToActions",{OMSId:1,AssetManagerId:1}).then(console.log)))).then((()=>e.ws.subscribe((t=>{console.log(t);let{m:e,i:r,n:i,o}=t;0==e&&("GetProviderDetails"===i?n({i:r,n:i,o:JSON.stringify({Coin:"YoCoin",BlockInfo:""})}):"GetProviderAdminFunctionList"===i?n({i:r,n:i,o:JSON.stringify([{FunctionName:"MakeSmt",FunctionParams:[{Name:"shit",Value:"hole",ParamType:"StringValue"}]},{FunctionName:"Walk",FunctionParams:[{Name:"fall",Value:"down",ParamType:"StringValue"}]}])}):"GetTotalBalance"===i&&n({i:r,n:i,o:"345"}))}))))})()})();